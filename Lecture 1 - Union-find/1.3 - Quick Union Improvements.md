# 1.3 Quick Union Improvements

One potential improvement to quick union is called weigthing. We essentially avoid making long trees, by always linking the root of the smaller tree below the root of the larger tree. We can do this by keeping track of the size of our trees.

We do this by adding an array size[]

```Java
public class QuickUnionUF
{
  private int[] id;
  private int[] size;
  
  public QuickUnionUF(int N)
  {
    id = new int[N];
    size = new int[N];
    for (int i = 0; i<N; i++)
      id[i] = i;
      size[i] = 1;
  }
  
  public boolean find(int p, int q) 
  {
    return root(p) == root(q)
  }
  
  public void union(int p, int q)
  {
    int rootP = root(p)
    int rootQ = root(q)
    if (rootP == rootQ) return;
    if size[rootP] < size[rootQ] {
      id[rootP] = rootQ;
      size[rootQ] = size[rootP];
    } else {
      id[rootQ] = rootP;
      size[rootP] = size[rootQ];
    }
  }
  
  private int root(int p)
  {
    return id[p] == p ? p : root(id[p]);
  }
}
```